<!doctype html>
<html ng-app="myApp">
<head>
    <title>Socket.IO Chat</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="lib/angular/angular.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script src="js/app.js"></script>
</head>
<body ng-controller="mainController">
    <!-- Name entry modal -->
    <div class="name-entry" ng-show="showNameEntry">
        <input id="name" ng-model="newUsername" placeholder="Enter your name" />
        <button ng-click="setUsername()">Submit</button>
    </div>

    <!-- Chat container -->
    <div class="chat-container" ng-show="!showNameEntry">
        <div class="message-box">
            <div class="message" ng-repeat="msg in messages track by $index" ng-class="{'user1': msg.userId === userId, 'user2': msg.userId !== userId}">
                <div class="username">{{msg.user}}</div>
                <div class="text">{{msg.text}}</div>
            </div>
        </div>
        <div class="input-box">
            <input id="message" ng-model="message" ng-keypress="handleKeyPress($event)" placeholder="Type a message..." />
            <button ng-click="send()">Send</button>
        </div>
    </div>
</body>
</html>
